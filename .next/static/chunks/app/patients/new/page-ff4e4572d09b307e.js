(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[556],{968:(e,a,s)=>{"use strict";s.d(a,{b:()=>n});var t=s(2115),l=s(3655),r=s(5155),i=t.forwardRef((e,a)=>(0,r.jsx)(l.sG.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=i},1007:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4229:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},4516:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},7287:(e,a,s)=>{Promise.resolve().then(s.bind(s,9705))},7550:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9420:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9705:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>g});var t=s(5155),l=s(2115),r=s(5695),i=s(8482),n=s(7168),d=s(9852),c=s(2714),h=s(5784),u=s(9026),o=s(1007),m=s(7550),x=s(9420),j=s(4516),v=s(4229),p=s(9350),N=s(1886),b=s(6874),f=s.n(b);function g(){let[e,a]=(0,l.useState)({firstName:"",lastName:"",nationalId:"",phoneNumber:"",email:"",dateOfBirth:"",county:"",subCounty:"",maritalStatus:""}),[s,b]=(0,l.useState)(!1),[g,y]=(0,l.useState)(""),[k,C]=(0,l.useState)(!1),{user:w}=(0,p.A)(),A=(0,r.useRouter)(),S=(e,s)=>{a(a=>({...a,[e]:s}))},M=async a=>{a.preventDefault(),b(!0),y("");try{let a={first_name:e.firstName,last_name:e.lastName,national_id:e.nationalId,phone_number:e.phoneNumber,email:e.email||void 0,date_of_birth:e.dateOfBirth,county:e.county,sub_county:e.subCounty,marital_status:e.maritalStatus||void 0};await N.u.createPatient(a),C(!0),setTimeout(()=>{A.push("/patients")},2e3)}catch(e){y(e.message||"Failed to create patient")}finally{b(!1)}};return w?k?(0,t.jsx)("div",{className:"min-h-screen mybackground flex items-center justify-center",children:(0,t.jsx)(i.Zp,{className:"w-full max-w-md",children:(0,t.jsxs)(i.Wu,{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(o.A,{className:"h-6 w-6 text-green-600"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Patient Created Successfully!"}),(0,t.jsxs)("p",{className:"text-muted-foreground mb-4",children:[e.firstName," ",e.lastName," has been added to the system."]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Redirecting to patients list..."})]})})}):(0,t.jsxs)("div",{className:"min-h-screen mybackground",children:[(0,t.jsx)("header",{className:"card-header text-white",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(f(),{href:"/patients",children:(0,t.jsx)(n.$,{variant:"ghost",size:"icon",children:(0,t.jsx)(m.A,{className:"h-4 w-4"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Add New Patient"})]})})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center",children:[(0,t.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"Patient Information"]}),(0,t.jsx)(i.BT,{children:"Enter the patient's personal and contact information"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[g&&(0,t.jsx)(u.Fc,{variant:"destructive",children:(0,t.jsx)(u.TN,{children:g})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Personal Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"firstName",children:"First Name *"}),(0,t.jsx)(d.p,{id:"firstName",value:e.firstName,onChange:e=>S("firstName",e.target.value),placeholder:"Enter first name",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"lastName",children:"Last Name *"}),(0,t.jsx)(d.p,{id:"lastName",value:e.lastName,onChange:e=>S("lastName",e.target.value),placeholder:"Enter last name",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"nationalId",children:"National ID *"}),(0,t.jsx)(d.p,{id:"nationalId",value:e.nationalId,onChange:e=>S("nationalId",e.target.value),placeholder:"Enter national ID number",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"dateOfBirth",children:"Date of Birth *"}),(0,t.jsx)(d.p,{id:"dateOfBirth",type:"date",value:e.dateOfBirth,onChange:e=>S("dateOfBirth",e.target.value),required:!0})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium flex items-center",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Contact Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"phoneNumber",children:"Phone Number *"}),(0,t.jsx)(d.p,{id:"phoneNumber",value:e.phoneNumber,onChange:e=>S("phoneNumber",e.target.value),placeholder:"+254712345678",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"email",children:"Email Address"}),(0,t.jsx)(d.p,{id:"email",type:"email",value:e.email,onChange:e=>S("email",e.target.value),placeholder:"patient@example.com"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium flex items-center",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Location Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"county",children:"County *"}),(0,t.jsxs)(h.l6,{value:e.county,onValueChange:e=>S("county",e),children:[(0,t.jsx)(h.bq,{children:(0,t.jsx)(h.yv,{placeholder:"Select county"})}),(0,t.jsxs)(h.gC,{children:[(0,t.jsx)(h.eb,{value:"nairobi",children:"Nairobi"}),(0,t.jsx)(h.eb,{value:"kiambu",children:"Kiambu"}),(0,t.jsx)(h.eb,{value:"kisumu",children:"Kisumu"}),(0,t.jsx)(h.eb,{value:"mombasa",children:"Mombasa"}),(0,t.jsx)(h.eb,{value:"nakuru",children:"Nakuru"}),(0,t.jsx)(h.eb,{value:"machakos",children:"Machakos"}),(0,t.jsx)(h.eb,{value:"kajiado",children:"Kajiado"}),(0,t.jsx)(h.eb,{value:"murang'a",children:"Murang'a"}),(0,t.jsx)(h.eb,{value:"nyeri",children:"Nyeri"}),(0,t.jsx)(h.eb,{value:"kirinyaga",children:"Kirinyaga"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"subCounty",children:"Sub-County *"}),(0,t.jsx)(d.p,{id:"subCounty",value:e.subCounty,onChange:e=>S("subCounty",e.target.value),placeholder:"Enter sub-county",required:!0})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Additional Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"maritalStatus",children:"Marital Status"}),(0,t.jsxs)(h.l6,{value:e.maritalStatus,onValueChange:e=>S("maritalStatus",e),children:[(0,t.jsx)(h.bq,{children:(0,t.jsx)(h.yv,{placeholder:"Select marital status"})}),(0,t.jsxs)(h.gC,{children:[(0,t.jsx)(h.eb,{value:"single",children:"Single"}),(0,t.jsx)(h.eb,{value:"married",children:"Married"}),(0,t.jsx)(h.eb,{value:"divorced",children:"Divorced"}),(0,t.jsx)(h.eb,{value:"widowed",children:"Widowed"}),(0,t.jsx)(h.eb,{value:"separated",children:"Separated"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(f(),{href:"/patients",children:(0,t.jsx)(n.$,{variant:"outline",type:"button",children:"Cancel"})}),(0,t.jsx)(n.$,{type:"submit",disabled:s,className:"bg-gradient-to-r from-pink-500 to-blue-500 hover:from-pink-600 hover:to-blue-600 text-white",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Create Patient"]})})]})]})})]})})})]}):(A.push("/login"),null)}}},e=>{var a=a=>e(e.s=a);e.O(0,[455,737,874,355,834,441,684,358],()=>a(7287)),_N_E=e.O()}]);