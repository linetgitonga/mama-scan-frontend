(()=>{var e={};e.id=105,e.ids=[105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41903:(e,s,a)=>{Promise.resolve().then(a.bind(a,46836))},43649:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},46836:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var t=a(60687),r=a(43210),n=a(55192),l=a(24934),i=a(59821),d=a(57769),c=a(58559),o=a(43649),x=a(41312),m=a(93508),u=a(25541),h=a(96474),p=a(99270),f=a(98492),g=a(97992),j=a(68988),v=a(21650),N=a(59556),b=a(16189),y=a(85814),w=a.n(y);function k(){let[e,s]=(0,r.useState)(""),[a,y]=(0,r.useState)([]),[k,A]=(0,r.useState)([]),[S,C]=(0,r.useState)(!0),[P,R]=(0,r.useState)(""),{user:_,isLoading:M}=(0,v.A)();(0,b.useRouter)();let T=async()=>{try{C(!0);let[e,s]=await Promise.all([N.u.getPatients(),N.u.getScreenings()]);y(e.results||[]),A(s.results||[])}catch(e){R(e.message||"Failed to fetch dashboard data"),console.error("Dashboard data fetch error:",e)}finally{C(!1)}};if(M||S)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(c.A,{className:"h-8 w-8 text-primary animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{children:"Loading dashboard..."})]})});if(P)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(o.A,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-red-600",children:P}),(0,t.jsx)(l.$,{onClick:T,className:"mt-4",children:"Retry"})]})});let D=a.length,E=k.filter(e=>new Date(e.screening_date).toDateString()===new Date().toDateString()).length,$=k.filter(e=>"High Risk"===e.risk_level).length,L=k.filter(e=>e.referral_needed&&!e.risk_level).length,I=[{title:"Total Patients",value:D.toString(),change:"+12%",icon:x.A,color:"text-blue-600"},{title:"Screened Today",value:E.toString(),change:"+5%",icon:m.A,color:"text-green-600"},{title:"High Risk Cases",value:$.toString(),change:"+8%",icon:o.A,color:"text-red-600"},{title:"Referrals Pending",value:L.toString(),change:"-3%",icon:u.A,color:"text-orange-600"}],Z=a.sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()).slice(0,5).map(e=>{let s=k.filter(s=>s.patient===e.id).sort((e,s)=>new Date(s.screening_date).getTime()-new Date(e.screening_date).getTime())[0];return{id:e.id.toString(),name:`${e.first_name} ${e.last_name}`,age:new Date().getFullYear()-new Date(e.date_of_birth).getFullYear(),riskLevel:s?.risk_level||"Unknown",lastScreening:s?.screening_date||"Never",location:`${e.county}, ${e.sub_county}`}}),O=e=>{switch(e){case"High":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"Moderate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"Low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return(0,t.jsx)("div",{className:"min-h-screen mybackground",children:(0,t.jsxs)("div",{className:"container mybackground  mx-auto px-4 py-6",children:[(0,t.jsx)("div",{className:"mb-6 mybackground",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between mybackground",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Dashboard Overview"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(w(),{href:"/patients/new",children:(0,t.jsxs)(l.$,{className:"bg-gradient-to-r from-pink-500 to-blue-500 hover:from-pink-600 hover:to-blue-600 text-white",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"New Patient"]})}),(0,t.jsx)(w(),{href:"/screening/new",children:(0,t.jsxs)(l.$,{variant:"outline",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Start Screening"]})})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:I.map((e,s)=>{let a=e.icon;return(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ZB,{className:"text-sm font-medium",children:e.title}),(0,t.jsx)(a,{className:`h-4 w-4 ${e.color}`})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,t.jsx)("span",{className:e.change.startsWith("+")?"text-green-600":"text-red-600",children:e.change})," ","from last month"]})]})]},s)})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(n.Zp,{className:"lg:col-span-2",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.ZB,{children:"Recent Patients"}),(0,t.jsx)(n.BT,{children:"Latest screening activities"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(j.p,{placeholder:"Search patients...",value:e,onChange:e=>s(e.target.value),className:"pl-8 w-64"})]}),(0,t.jsx)(l.$,{variant:"outline",size:"icon",children:(0,t.jsx)(f.A,{className:"h-4 w-4"})})]})]})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"space-y-4",children:Z.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Age: ",e.age]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)(g.A,{className:"h-3 w-3 mr-1"}),e.location]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(i.E,{className:O(e.riskLevel),children:[e.riskLevel," Risk"]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Screening"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"Never"===e.lastScreening?"Never":new Date(e.lastScreening).toLocaleDateString()})]})]})]},e.id))}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(w(),{href:"/patients",children:(0,t.jsx)(l.$,{variant:"outline",className:"w-full",children:"View All Patients"})})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-lg",children:"Monthly Progress"}),(0,t.jsx)(n.BT,{children:"Screening targets for January 2024"})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{children:"Screenings Completed"}),(0,t.jsx)("span",{children:"156/200"})]}),(0,t.jsx)(d.k,{value:78,className:"h-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{children:"High-Risk Identified"}),(0,t.jsx)("span",{children:"47/50"})]}),(0,t.jsx)(d.k,{value:94,className:"h-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{children:"Referrals Completed"}),(0,t.jsx)("span",{children:"35/47"})]}),(0,t.jsx)(d.k,{value:74,className:"h-2"})]})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{className:"text-lg",children:"Quick Actions"})}),(0,t.jsxs)(n.Wu,{className:"space-y-3",children:[(0,t.jsx)(w(),{href:"/screening/new",className:"block",children:(0,t.jsxs)(l.$,{variant:"outline",className:"w-full justify-start",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Start New Screening"]})}),(0,t.jsx)(w(),{href:"/patients",className:"block",children:(0,t.jsxs)(l.$,{variant:"outline",className:"w-full justify-start",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Manage Patients"]})}),(0,t.jsx)(w(),{href:"/referrals",className:"block",children:(0,t.jsxs)(l.$,{variant:"outline",className:"w-full justify-start",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"View Referrals"]})}),(0,t.jsx)(w(),{href:"/analytics",className:"block",children:(0,t.jsxs)(l.$,{variant:"outline",className:"w-full justify-start",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Analytics"]})})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{className:"text-lg",children:"System Status"})}),(0,t.jsxs)(n.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"AI Model"}),(0,t.jsx)(i.E,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Online"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Data Sync"}),(0,t.jsx)(i.E,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Synced"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Offline Mode"}),(0,t.jsx)(i.E,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Available"})]})]})]})]})]})]})})}},55192:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>i});var t=a(60687),r=a(43210),n=a(96241);let l=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border card-basic  text-card-foreground shadow-sm",e),...s}));l.displayName="Card";let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex card-header flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl card-title font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground card-description",e),...s}));c.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0 card-content",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0 card-footer",e),...s})).displayName="CardFooter"},57769:(e,s,a)=>{"use strict";a.d(s,{k:()=>b});var t=a(60687),r=a(43210),n=a(11273),l=a(14163),i="Progress",[d,c]=(0,n.A)(i),[o,x]=d(i),m=r.forwardRef((e,s)=>{var a,r;let{__scopeProgress:n,value:i=null,max:d,getValueLabel:c=p,...x}=e;(d||0===d)&&!j(d)&&console.error((a=`${d}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=j(d)?d:100;null===i||v(i,m)||console.error((r=`${i}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=v(i,m)?i:null,h=g(u)?c(u,m):void 0;return(0,t.jsx)(o,{scope:n,value:u,max:m,children:(0,t.jsx)(l.sG.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":g(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":f(u,m),"data-value":u??void 0,"data-max":m,...x,ref:s})})});m.displayName=i;var u="ProgressIndicator",h=r.forwardRef((e,s)=>{let{__scopeProgress:a,...r}=e,n=x(u,a);return(0,t.jsx)(l.sG.div,{"data-state":f(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:s})});function p(e,s){return`${Math.round(e/s*100)}%`}function f(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function g(e){return"number"==typeof e}function j(e){return g(e)&&!isNaN(e)&&e>0}function v(e,s){return g(e)&&!isNaN(e)&&e<=s&&e>=0}h.displayName=u;var N=a(96241);let b=r.forwardRef(({className:e,value:s,...a},r)=>(0,t.jsx)(m,{ref:r,className:(0,N.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:(0,t.jsx)(h,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));b.displayName=m.displayName},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64118:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\LINET\\\\Desktop\\\\PROJECTS\\\\MAMASCAN\\\\mama-scan-frontend\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\LINET\\Desktop\\PROJECTS\\MAMASCAN\\mama-scan-frontend\\app\\dashboard\\page.tsx","default")},66749:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c});var t=a(65239),r=a(48088),n=a(88170),l=a.n(n),i=a(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let c={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,64118)),"C:\\Users\\LINET\\Desktop\\PROJECTS\\MAMASCAN\\mama-scan-frontend\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,58014)),"C:\\Users\\LINET\\Desktop\\PROJECTS\\MAMASCAN\\mama-scan-frontend\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,99766)),"C:\\Users\\LINET\\Desktop\\PROJECTS\\MAMASCAN\\mama-scan-frontend\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["C:\\Users\\LINET\\Desktop\\PROJECTS\\MAMASCAN\\mama-scan-frontend\\app\\dashboard\\page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},88759:(e,s,a)=>{Promise.resolve().then(a.bind(a,64118))},97992:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},98492:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[879,419],()=>a(66749));module.exports=t})();